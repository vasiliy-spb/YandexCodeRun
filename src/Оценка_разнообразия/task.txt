377. Оценка разнообразия

    бэкендлегкая

Выдача бывает полезной, бывает информативной, а бывает разнообразной.

Разработайте алгоритм подсчета разнообразия списка товаров.

Дана выборка товаров из разных категорий: productiproducti​, categoryicategoryi​ - идентификатор продукта и его категория.

Разнообразием списка товаров назовем величину равную минимальной разности позиций товаров одной категории. Если все товары различной категории, то разнообразие будет равно количеству товаров в списке.
Формат ввода

В первой строке записано одно целое число nn (1≤n≤100 0001≤n≤100000) - количество товаров в списке.

Далее в каждой из nn строк записано по два целых числа productiproducti​ и categoryicategoryi​ (0≤producti,categoryi≤2300≤producti​,categoryi​≤230) - id продукта и его категория.

В последней строке дана перестановка величин productidproductid​ - порядок товаров в списке.

Гарантируется, что все величины productidproductid​ различны.

Числа в строках разделены одиночными пробелами.
Формат вывода

Выведите одно число, равное значению вычисленного разнообразия списка товаров.
Пример 1
Ввод
5
1 1
2 1
3 1
4 2
5 2
1 4 2 5 3

Вывод
2

Пример 2
Ввод
9
0 1
2 1
3 1
4 2
5 2
6 2
7 3
8 3
999 3
0 4 7 2 5 8 3 6 999

Вывод
3

Пример 3
Ввод
5
1 1
2 2
3 3
4 4
5 5
1 2 3 4 5

Вывод
5
